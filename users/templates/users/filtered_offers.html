{% extends 'users/base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto p-4 bg-white shadow rounded">
    <h2 class="text-2xl font-bold mb-4">🔍 Rechercher une offre</h2>

    <form method="GET" class="mb-4 flex space-x-2">
        <input type="text" name="q" placeholder="Rechercher par devise..." class="border p-2 rounded flex-1">
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Rechercher</button>
    </form>

    <h3 class="text-xl font-semibold mb-2">Résultats</h3>

    <div class="mt-4 space-y-4">
        {% for offer in offers %}
            <div class="border p-4 rounded shadow">
                <p><strong>{{ offer.ma_devise }}</strong> → {{ offer.devise_souhaitee }}</p>
                <p>taux_souhaite : {{ offer.taux_souhaite }}</p>
                <a href="{% url 'reserve_offer' offer.id %}" class="bg-green-500 text-white px-4 py-2 rounded">Réserver</a>
            </div>
        {% empty %}
            <p>Aucune offre trouvée.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
